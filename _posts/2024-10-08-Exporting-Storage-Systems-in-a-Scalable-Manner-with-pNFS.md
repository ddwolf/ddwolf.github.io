---
layout: post
title: "Exporting Storage Systems in a Scalable Manner with pNFS"
date: 2024-10-08
---
#### location: https://metro.citi.umich.edu/techreports/reports/citi-tr-05-1.pdf
# 标题：使用 pNFS 以可扩展的方式暴露存储系统
## 概述
  为了解决企业级大规模数据的性能和互操作性需求，我们为 `NFSv4` 设计了一个扩展。此扩展为 `NFSv4` 提供对存储系统的并发访问。此论文综述了 `pNFS`，一个新出现的 `NFSv4` 扩展。此扩展致力于提供可扩展的文件访问方案，且独立于具体的操作系统和存储系统。`pNFS` 通过提供直接访问存储系统，提供一个框架来访问 `NFSv4` 及其它现有存储系统的协议来解决服务器瓶颈问题。此论文描述 `pNFS` 的一种实现来说明和验证 `pNFS` 的潜力。我们实现的原型的 I/O 吞吐能力远超 `NFSv4`。
## 介绍
  `pNFS` 协议提供了互操作性保证。降低了开发和管理成本，但目前只是使用它的团体受益。对性能越来越高的要求催生了很多创新性的协议，如 `iSCSI`, `DAF`, `OSD`, `FCP` 等。但是这么多的协议也对互操作性产生了新的威胁。
  互操作性也依赖于操作系统和硬件平台。高性能文件系统，为存储系统提供直接和并发的访问，但，这种文件系统也是高度定制化的。
## 架构
  在 `pNFS` 中，`NFS` 客户端和服务端继续扮演控制和文件管理的角色。同时也负责为具体的存储驱动提供可扩展 I/O 吞吐。通过分离控制和数据流，`pNFS` 允许数据在多对多的客户端和服务端流动。从而解决单服务的瓶颈问题。
  ```
  +--Client------------------------------------+
  |  +--------+                +---------------+ 
  |  |  pNFS  | --Set Layout-->| Layout Driver |
  |  | Client | ---- I/O ----->| I/O Driver    |
  |  +--------+                +---------------+        +-------+|
  +--------------------------------------------+        |  +-----+-+
                                                        |  |       |
  +--Server------------------------------------+        +--|       |
  |  +--------+                    +---------+             +-------+
  |  |  pNFS  | --Request Layout-->| Storage |
  |  | Server | --Control Ops ---->| System  |
  |  +--------+                    +---------+
  +--------------------------------------------+
```
